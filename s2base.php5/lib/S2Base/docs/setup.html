<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="ja" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="keywords" content="Seasar2, S2Container, DI, AOP, Dependency Injection, Aspect Oriented Programming, The Seasar Foundation, OSS, オープンソースソフトウェア, Java, フレームワーク" />
<meta name="description" content="私たちSeasarプロジェクトはオープンソースという仕組みの元、開発者のゆとりを実現できるプロダクトの開発と提供を通じて、ユーザと開発者とが共に喜びを分かち合える環境実現をお手伝いすることを目指し活動しています。 " />
<title>The Seasar Project - S2Base.PHP5</title>

<link rel="stylesheet" type="text/css" href="theme/main.css" media="screen,projection" />
<link rel="stylesheet" type="text/css" href="theme/print.css" media="print" /></head><body>

<div id="wrapper">

<div id="header">

<div class="line"><span class="hide">spacer</span></div>

<div id="logo">
<h1 id="h01" class="hide">The Seasar Project</h1>
<a href="http://www.seasar.org/">
<img src="images/seasar_logo_blue.gif" alt="The Seasar Project" height="180" width="390" />
</a>
</div>

<div id="navi">
<p><a href="index.html">S2Base.PHP5 ホーム</a> &raquo; ドキュメント &raquo; セットアップ</p>
</div>

</div><!-- header -->

<div id="contents_left">

<h2>メニュー</h2>

<h3>ドキュメント</h3>
<ul>
<li>セットアップ
    <ul style="font-size:smaller;">
        <li><a href="#start">はじめに</a></li>
        <li><a href="#setup-pear">PEARパッケージのセットアップ</a>
            <ul>
                <li><a href="#install-pear">S2Base.PHP5 のインストール</a></li>
                <li><a href="#uninstall-pear">PEARパッケージのアンインストール</a></li>
                <li><a href="#project">プロジェクトの作成</a></li>
            </ul>
        </li>
        <li><a href="#setup-full">フルパッケージのセットアップ</a>
            <ul>
                <li><a href="#install-full">S2Base.PHP5 のインストール</a></li>
                <li><a href="#versionup">S2Container.PHP5 と S2Dao.PHP5 のバージョンアップ</a></li>
            </ul>
        </li>
        <li><a href="#db">データベース接続設定</a></li>
    </ul>
</li>
</ul>


</div><!-- contents_left -->

<div id="contents_center">

<div id="article">

<div class="section">
<h2><a id="start" name="start">はじめに</a></h2>
<p>
　S2Base.PHP5では、<a href="http://www.phpunit.de/">PHPUnit3</a> が<span style="color:red">必要</span>です。
各ツールのドキュメントに従いインストールして下さい。
</p>

<ul>
<li><a href="http://pear.php.net/manual/ja/installation.cli.php">PEARマニュアル インストール</a></li>
<li><a href="http://www.phpunit.de/pocket_guide/3.2/en/installation.html">PHPUnit3 install</a></li>
<li><a href="http://phing.info/trac/">phing</a> (optional)</li>
</ul>
</div>
<br />

<div class="section">
<h2><a id="setup-pear" name="setup-pear">PEARパッケージのセットアップ</a></h2>

<h3><a id="install-pear" name="install-pear">S2Base.PHP5 のインストール</a></h3>
<p>
　S2Base-version.tgz を取得し、「pear install」コマンドでインストールして下さい。
</p>
<pre>
% pear install S2Base-version.tgz
% pear list -c __uri
Installed packages, channel __uri:
==================================
Package Version State
S2Base  1.2.0RC1    beta
%
</pre>
　　* PEARバージョン 1.4.11 以上が必要です。<br />
　　* S2Container.PHP5、S2Dao.PHP5 のインストールが別途必要です。

<h3><a id="uninstall-pear" name="uninstall-pear">PEARパッケージのアンインストール</a></h3>
<p>
　「pear uninstall」コマンドでアンインストールを行います。
</p>

<pre>
% pear uninstall channel://__uri/S2Base
uninstall ok: channel://__uri/S2Base-version
% pear list -c __uri
(no packages installed from channel __uri)
%
</pre>

<h3><a id="project" name="project">プロジェクトの作成</a></h3>
<p>
　PEARパッケージのインストールが完了すると、PHP バイナリディレクトリ、または PHP_PEAR_BIN_DIR で
指定されたディレクトリに、s2base (s2base.bat) コマンドがインストールされます。
この s2base コマンドを用いてプロジェクトディレクトリを作成します。
</p>

<pre>
% s2base help
[INFO ] usage: % s2base [project|command|test|help] [option]
[INFO ]     project: create s2base project directory.
[INFO ]         usage: % s2base project [project dir] [none|cmd|zf]
[INFO ]
[INFO ]     command: start command launcher.
[INFO ]         usage: % s2base command [none|cmd|zf]
[INFO ]
[INFO ]     test: execute unit test.
[INFO ]         usage: % s2base test [target pattern] [none|cmd|zf]
[INFO ]
[INFO ]     help: show this help.
[INFO ]         usage: % s2base help
%
% s2base project ./ProjectA
% ls ProjectA
app  build.xml  config  lib  test  var  vendor
%
</pre>

<br />
プロジェクトディレクトリにて s2base コマンドを実行します。コマンドリストが表示されるとインストールが完了です。

<pre>
% cd ProjectA
% s2base

[INFO ] s2base  directory : /path/to/php/pear/directory/S2Base
[INFO ] project directory : /path/to/ProjectA
[INFO ] project type      : command
[INFO ] command type      : command

[ Command list ]
0 : (exit)
1 : dao
2 : dicon
3 : entity
4 : goya
5 : interceptor
6 : module
7 : service
choice ? : 0

%
</pre>

</div>
<br />

<div class="section">
<h2><a id="setup-full" name="setup-full">フルパッケージのセットアップ</a></h2>

<h3><a id="install-full" name="install-full">S2Base.PHP5 のインストール</a></h3>
<p>
　s2base.php5-version.zip を取得し、任意のディレクトリに解凍して下さい。
s2base.php5 ディレクトリが作成されます。
</p>

<pre>
% pwd
/seasar.php/workspace
%
% jar xvf s2base.php5-version.zip
% cd s2base.php5
% ls
app  build.xml  config  lib  public  s2base.php  test  var  vendor
%
</pre>
<br />
s2base.php5 ディレクトリにて s2base.php コマンドを実行します。コマンドリストが表示されるとインストールが完了です。

<pre>
% pwd
/seasar.php/workspace/s2base.php5
%
% php s2base.php

[INFO ] s2base  directory : /seasar.php/workspace/s2base.php5/lib/S2Base/build/s2base.php5
[INFO ] project directory : /seasar.php/workspace/s2base.php5
[INFO ] project type      : command
[INFO ] command type      : command

[ Command list ]
0 : (exit)
1 : dao
2 : dicon
3 : entity
4 : goya
5 : interceptor
6 : module
7 : service
choice ? : 0

%
</pre>

<h3><a id="versionup" name="versionup">S2Container.PHP5 と S2Dao.PHP5 のバージョンアップ</a></h3>
<p>
　S2Container.PHP5 と S2Dao.PHP5 のバージョンアップは、lib ディレクトリにアーカイブを解凍するだけです。
</p>
<ul>
<li>S2Container.PHP5 <br />
PEAR パッケージまたはフルパッケージを取得し、s2base.php5/lib/S2Container として解凍して下さい。
</li>
<li>S2Dao.PHP5 <br />
フルパッケージを取得し、s2base.php5/lib/S2Dao として解凍して下さい。
</li>
</ul>

</div>
<br />

<div class="section">
<h2><a id="db" name="db">データベース接続設定</a></h2>

<p>
　データベースへの接続設定は、<a href="http://s2dao.php5.sandbox.seasar.org/setup.html#pdo_dicon">S2Dao の pdo.dicon </a>で行います。pdo.dicon は、app/commons/daoディレクトリにあります。ご使用のデータベースへの接続設定を行って下さい。
デフォルトでは sqlite を使用する設定となっています。データベースファイルは s2base.php5/var/db/s2base.db です。
</p>
</div>
<br />

<br />
</div><!-- article -->

</div><!-- contents_center -->

<div id="footer">
<address>&#169; Copyright The Seasar Foundation and the others 2005-2007, all rights reserved.</address>
<div class="line"><span class="hide">spacer</span></div>
</div><!-- footer -->

</div><!-- wrapper -->

</body></html>